apiVersion: v1
kind: Secret
metadata:
  name: marchproxy-secrets
  namespace: marchproxy
  labels:
    app.kubernetes.io/name: marchproxy
    app.kubernetes.io/component: secrets
type: Opaque
data:
  # Base64 encoded values - replace with actual secrets
  postgres-password: bWFyY2hwcm94eTEyMw==  # marchproxy123
  redis-password: cmVkaXMxMjM=  # redis123
  jwt-secret-key: eW91ci1qd3Qtc2VjcmV0LWtleS1jaGFuZ2UtdGhpcw==  # your-jwt-secret-key-change-this
  cluster-api-key: ZGVmYXVsdC1hcGkta2V5LWNoYW5nZS10aGlz  # default-api-key-change-this
  grafana-admin-password: YWRtaW4xMjM=  # admin123

---
apiVersion: v1
kind: Secret
metadata:
  name: marchproxy-tls
  namespace: marchproxy
  labels:
    app.kubernetes.io/name: marchproxy
    app.kubernetes.io/component: tls
type: kubernetes.io/tls
data:
  # Replace with actual TLS certificate and key
  tls.crt: LS0tLS1CRUdJTi...  # Base64 encoded certificate
  tls.key: LS0tLS1CRUdJTi...  # Base64 encoded private key

---
apiVersion: v1
kind: Secret
metadata:
  name: marchproxy-registry
  namespace: marchproxy
  labels:
    app.kubernetes.io/name: marchproxy
    app.kubernetes.io/component: registry
type: kubernetes.io/dockerconfigjson
data:
  # Docker registry credentials if using private registry
  .dockerconfigjson: eyJhdXRocyI6e319  # Base64 encoded Docker config

---
# Example: External secret management with SOPS or sealed-secrets
apiVersion: v1
kind: Secret
metadata:
  name: marchproxy-external-secrets
  namespace: marchproxy
  labels:
    app.kubernetes.io/name: marchproxy
    app.kubernetes.io/component: external-secrets
  annotations:
    # For use with external-secrets-operator
    external-secrets.io/backend: "vault"
    external-secrets.io/vault-role: "marchproxy"
type: Opaque
data:
  # These would be populated by external-secrets-operator
  oauth-client-secret: ""
  license-key: ""
  webhook-secret: ""

---
# Service Account for external secrets access
apiVersion: v1
kind: ServiceAccount
metadata:
  name: marchproxy-external-secrets
  namespace: marchproxy
  labels:
    app.kubernetes.io/name: marchproxy
    app.kubernetes.io/component: external-secrets
  annotations:
    # For AWS IAM roles
    eks.amazonaws.com/role-arn: "arn:aws:iam::ACCOUNT:role/marchproxy-secrets-role"
    # For Azure AD
    azure.workload.identity/client-id: "client-id"
    # For GCP Workload Identity
    iam.gke.io/gcp-service-account: "marchproxy-secrets@project.iam.gserviceaccount.com"